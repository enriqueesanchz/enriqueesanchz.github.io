<!DOCTYPE html><html lang="en" data-mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Arithmetic Coding - Optimización del algoritmo" /><meta property="og:locale" content="en" /><meta name="description" content="Enrique Sánchez, blog de un Ingeniero Telecomunicaciones" /><meta property="og:description" content="Enrique Sánchez, blog de un Ingeniero Telecomunicaciones" /><link rel="canonical" href="https://enriqueesanchz.github.io/posts/Arithmetic-Coding-optimization/" /><meta property="og:url" content="https://enriqueesanchz.github.io/posts/Arithmetic-Coding-optimization/" /><meta property="og:site_name" content="Enrique Sánchez" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2023-09-14T14:00:00+00:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Arithmetic Coding - Optimización del algoritmo" /><meta name="twitter:site" content="@enriqueesanchz" /><meta name="google-site-verification" content="google60522263ac815668.html" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-09-14T14:07:57+00:00","datePublished":"2023-09-14T14:00:00+00:00","description":"Enrique Sánchez, blog de un Ingeniero Telecomunicaciones","headline":"Arithmetic Coding - Optimización del algoritmo","mainEntityOfPage":{"@type":"WebPage","@id":"https://enriqueesanchz.github.io/posts/Arithmetic-Coding-optimization/"},"url":"https://enriqueesanchz.github.io/posts/Arithmetic-Coding-optimization/"}</script><title>Arithmetic Coding - Optimización del algoritmo | Enrique Sánchez</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Enrique Sánchez"><meta name="application-name" content="Enrique Sánchez"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src=" https://i.postimg.cc/28GMmrwZ/00026-2692966244-Highly-detail.png " alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Enrique Sánchez</a></div><div class="site-subtitle font-italic">Ingeniero Telecomunicaciones</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/enriqueesanchz" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/enriqueesanchz" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['enriqueesanchz','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Arithmetic Coding - Optimización del algoritmo</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Arithmetic Coding - Optimización del algoritmo</h1><div class="post-meta text-muted"><div> By <em> <a href="https://twitter.com/enriqueesanchz">Enrique Sánchez Cardoso</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" data-ts="1694700000" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2023-09-14 </em> </span> <span> Updated <em class="timeago" data-ts="1694700477" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2023-09-14 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="895 words"> <em>4 min</em> read</span></div></div></div><div class="post-content"><style type="text/css"> .post-content { text-align: justify; }</style><p>Este post es la continuación de <a href="/posts/Arithmetic-Coding/">Arithmetic Coding - Qué es y primera implementación</a>, que te recomiendo que leas antes de este.</p><p>Bueno, al lío. Nos encontramos con un algoritmo que no es viable de ejecutar puesto que conforme vamos codificando símbolos, los números que usamos se van haciendo cada vez más largos (en bits).</p><p><img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 471'%3E%3C/svg%3E" data-src="/assets/img/arithmetic.png" alt="Desktop View" width="400" height="471" data-proofer-ignore></p><p>Para solucinar esto nos vamos a aprovechar de una propiedad de estos números, y es que si nos fijamos en la imagen, en el juego de partir en porciones y quedarnos con una, el <strong>extremo inferior</strong> del intervalo que vamos manteniendo (en verde) <strong>o crece o se queda igual</strong>, nunca decrece. Lo mismo pasa con el <strong>extremo superior</strong>, <strong>siempre decrece o queda igual</strong>, nunca crece.</p><h2 id="traducción-a-bits"><span class="mr-2">Traducción a bits</span><a href="#traducción-a-bits" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>¿Cómo afecta esto a las variables que usamos en la implementación? Primero tenemos que saber cómo vamos a representar estos números. Hay dos posibilidades:</p><ul><li>Punto flotante: se compone de una mantisa (bits de precisión) y un exponente. Esto te permite representar números muy pequeños o muy grandes con unos pocos dígitos de precisión. En nuestro caso el extremo superior e inferior van a ser cada vez más cercanos por lo que la distancia entre estos no se podrá representar usando la precisión que permite el punto flotante.<li>Punto fijo: establecemos una convención del número de bits que usamos para la parte entera y decimal. En nuestro caso como los números estarán dentro de [0,1) tan solo necesitamos parte decimal. Vamos a usar una variable unsigned y la tratamos según esta convención.</ul><h2 id="implementación-ingenua"><span class="mr-2">Implementación ingenua</span><a href="#implementación-ingenua" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>Una vez sabemos como representar estos números, elegimos la longitud en bits que tendrán y ejecutamos el algoritmo. Aquí es cuando aparece el problema anteriormente planteado, conforme vamos codificando símbolos necesitamos más bits = más tiempo de cálculo en la próxima operación matemática.</p><h2 id="implementación-optimizada"><span class="mr-2">Implementación optimizada</span><a href="#implementación-optimizada" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><ul><li><strong>El extremo inferior siempre crece</strong><li><strong>El extremo superior siempre decrece</strong></ul><p>Si lo vemos en binario sería tal que así:</p><ul><li>El 0.25 representado con 4 bits es (0100). Si este es nuestro extremo inferior, solo va a crecer, por lo que si llega a 0.5 (1000), el primer bit pasará a ser 1, y así será siempre. Por lo tanto podremos descartarlo y llevar la cuenta de bits descartados.<li>Con el extremo inferior pasa lo mismo, una vez el primer bit pasa a ser 0 siempre lo será.</ul><p>Además, sabemos que el <strong>extremo superior siempre va a ser mayor que el inferior</strong>, por lo que una vez que el primer bit del inferior llega a 1 el del superior también queda fijado. De la misma manera ocurre en el otro sentido. Esto permite ir descartando bits según vamos pudiendo para así realizar <strong>operaciones matemáticas con números infinitamente largos</strong> pero solo usando unos pocos de sus bits. Estos bits serán los que iremos emitiendo ya que forman el número que representa el mensaje codificado.</p><p>Mola ¿eh?, esto es lo que hace que hoy en día se pueda usar este tipo de algoritmos ya que acelera muchísimo el procesado.</p><h3 id="otras-optimizaciones"><span class="mr-2">Otras optimizaciones</span><a href="#otras-optimizaciones" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li>Árbol binario indexado:</ul><p>Por la naturaleza del algoritmo, vamos a realizar muchas consultas al vector de probabilidades que nos facilita el modelo. Siempre necesitamos la probabilidad de símbolo y dónde se encuentra dentro de las porciones del rango (representadas arriba en verde). A parte, debemos poder actualizar el modelo. Por ello, en lugar de almacenar estas probabilidades en un array lo haremos en un Árbol binario indexado, que nos permite realizar estas operaciones en O(log n).</p><h2 id="otros-problemas"><span class="mr-2">Otros problemas</span><a href="#otros-problemas" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><ul><li>Pérdida de precisión:</ul><p>Puede darse que perdamos precisión cuando el extremo inferior se acerca a 0.5 por abajo y el extremo superior lo hace por arriba. De esta manera las variables en hexadecimal serían así:</p><div class="table-wrapper"><table><thead><tr><th style="text-align: left">low<th style="text-align: left">high<tbody><tr><td style="text-align: left">7C99418B<td style="text-align: left">81A60145<tr><td style="text-align: left">7FF8F3E1<td style="text-align: left">8003DFFA<tr><td style="text-align: left">7FFFFC6F<td style="text-align: left">80000DF4<tr><td style="text-align: left">7FFFFFF6<td style="text-align: left">80000001<tr><td style="text-align: left">7FFFFFFF<td style="text-align: left">80000000</table></div><p>Nunca llegamos al 1 inicial en low ni al 0 inicial en high. Para solucionar esto descartaremos el segundo bit más significativo (lo apuntamos en la cuenta de bits descartados) teniendo en cuenta que en algún momento se cumplirá la condición de 0.5. Cuando esto suceda, emitimos el bit correspondiente y los siguientes serán el contrario (tantos como apuntamos en la cuenta).</p><h2 id="rust"><span class="mr-2">Rust</span><a href="#rust" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>En mi repositorio de github se encuentra la <a href="https://github.com/enriqueesanchz/arithmetic-coding">implementación en Rust</a> de este algoritmo. El ejemplo comprime “El Quijote” usando un modelo simple de frecuencias planas para cada símbolo, consiguiendo así pasar de 2.1 MB a 1.1 MB en 0.7 segundos, mientras que con la implementación ingenua esto podría tardar incluso años.</p><p>Un mayor ratio de compresión se puede lograr si usamos modelos como PPM o cadenas de Markov, los cuales dan para otro post.</p><h3 id="detalles"><span class="mr-2">Detalles</span><a href="#detalles" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li>Número de símbolos arbitrario: el ejemplo usa 256 para codificar un archivo leido en bytes<li>Modelo de probabilidades plano<li>Uso de variables unsigned32: operaciones con 32 bits<li>Lenguaje compilado para una mayor velocidad</ul><h2 id="leer-más"><span class="mr-2">Leer más</span><a href="#leer-más" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>Este artículo pretende ser conciso y ameno, por lo que hay detalles que pueden quedar en el aire. Para obtener más información sobre el tema recomiendo el artículo de Mark Nelson <a href="https://marknelson.us/posts/2014/10/19/data-compression-with-arithmetic-coding.html">Data Compression With Arithmetic Coding</a> en el que me he inspirado para hacer este post.</p><p>Personalmente, esto ha sido un reto que me propuse tras finalizar el trabajo incial. He aprendido a tener en cuenta qué coste de cómputo tienen las operaciones, manejo a nivel de bit, maneras diferentes de hacer lo mismo, abstraerme para lograr entender un algoritmo complejo y, de paso, programar en Rust.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/algorithm/'>Algorithm</a>, <a href='/categories/coding/'>Coding</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/coding/" class="post-tag no-text-decoration" >coding</a> <a href="/tags/arithmetic/" class="post-tag no-text-decoration" >arithmetic</a> <a href="/tags/optimizar/" class="post-tag no-text-decoration" >optimizar</a> <a href="/tags/algorithm/" class="post-tag no-text-decoration" >algorithm</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Arithmetic Coding - Optimización del algoritmo - Enrique Sánchez&amp;url=https://enriqueesanchz.github.io/posts/Arithmetic-Coding-optimization/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Arithmetic Coding - Optimización del algoritmo - Enrique Sánchez&amp;u=https://enriqueesanchz.github.io/posts/Arithmetic-Coding-optimization/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https://enriqueesanchz.github.io/posts/Arithmetic-Coding-optimization/&amp;text=Arithmetic Coding - Optimización del algoritmo - Enrique Sánchez" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/WorkoutAI/">WorkoutAI - Identificación del ejercicio físico</a><li><a href="/posts/Nat-traversal/">Nat traversal</a><li><a href="/posts/Arithmetic-Coding-optimization/">Arithmetic Coding - Optimización del algoritmo</a><li><a href="/posts/Arithmetic-Coding/">Arithmetic Coding - Qué es y primera implementación</a><li><a href="/posts/Como-consegui-400-usuarios/">Cómo conseguí 400 usuarios para esta Web de F1</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/algorithm/">algorithm</a> <a class="post-tag" href="/tags/arithmetic/">arithmetic</a> <a class="post-tag" href="/tags/coding/">coding</a> <a class="post-tag" href="/tags/ai/">ai</a> <a class="post-tag" href="/tags/f1/">f1</a> <a class="post-tag" href="/tags/fitness/">fitness</a> <a class="post-tag" href="/tags/hole-punching/">hole punching</a> <a class="post-tag" href="/tags/nat/">nat</a> <a class="post-tag" href="/tags/optimizar/">optimizar</a> <a class="post-tag" href="/tags/traversal/">traversal</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/Arithmetic-Coding/"><div class="card-body"> <em class="timeago small" data-ts="1694453400" > 2023-09-11 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Arithmetic Coding - Qué es y primera implementación</h3><div class="text-muted small"><p> El pasado curso hice un trabajo sobre la codificación aritmética y sus ventajas frente a otros tipos de codificación, aportando un código escrito en Python que mostraba su uso. Antes de nada, ¿Q...</p></div></div></a></div><div class="card"> <a href="/posts/WorkoutAI/"><div class="card-body"> <em class="timeago small" data-ts="1708779600" > 2024-02-24 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>WorkoutAI - Identificación del ejercicio físico</h3><div class="text-muted small"><p> Soy una persona a la que le encanta el ejercicio físico, deporte, etc. y voy al gimnasio diariamente. En los inicios del entrenamiento físico consigues un gran cambio, progresas semana a semana y...</p></div></div></a></div><div class="card"> <a href="/posts/Nat-traversal/"><div class="card-body"> <em class="timeago small" data-ts="1697220000" > 2023-10-13 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Nat traversal</h3><div class="text-muted small"><p> Hace unas semanas mi ISP activó CG NAT (Carrier Grade Network Address Translation). Esto hizo que mis servidores dejasen de estar expuestos a internet con las reglas de port-forwarding que tenía ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/Arithmetic-Coding/" class="btn btn-outline-primary" prompt="Older"><p>Arithmetic Coding - Qué es y primera implementación</p></a> <a href="/posts/Nat-traversal/" class="btn btn-outline-primary" prompt="Newer"><p>Nat traversal</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2024 <a href="https://twitter.com/enriqueesanchz">Enrique Sánchez Cardoso</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/algorithm/">algorithm</a> <a class="post-tag" href="/tags/arithmetic/">arithmetic</a> <a class="post-tag" href="/tags/coding/">coding</a> <a class="post-tag" href="/tags/ai/">ai</a> <a class="post-tag" href="/tags/f1/">f1</a> <a class="post-tag" href="/tags/fitness/">fitness</a> <a class="post-tag" href="/tags/hole-punching/">hole punching</a> <a class="post-tag" href="/tags/nat/">nat</a> <a class="post-tag" href="/tags/optimizar/">optimizar</a> <a class="post-tag" href="/tags/traversal/">traversal</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-F48Z5B0S45"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-F48Z5B0S45'); }); </script>
